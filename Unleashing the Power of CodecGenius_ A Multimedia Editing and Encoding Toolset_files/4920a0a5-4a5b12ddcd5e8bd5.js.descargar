"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2563],{99747:function(e,t,n){n.d(t,{$45:function(){return zr},$KD:function(){return z},$Rk:function(){return _o},ASL:function(){return nc},AyJ:function(){return Gu},C9Q:function(){return Ea},CBv:function(){return T},CET:function(){return ic},DYv:function(){return Or},ELZ:function(){return Er},EQD:function(){return wr},Feq:function(){return go},GKY:function(){return Fc},Ga5:function(){return xr},GsE:function(){return Rn},HdH:function(){return la},J41:function(){return Dc},JIX:function(){return Eu},Kd8:function(){return eo},Kul:function(){return Iu},KyJ:function(){return So},LKm:function(){return Co},LMm:function(){return ro},Lgc:function(){return Xr},Lqh:function(){return mr},MTn:function(){return c.MT},MkB:function(){return oo},Mxs:function(){return Yr},Nan:function(){return Mc},OmN:function(){return mo},Ow4:function(){return Nr},P9T:function(){return Ta},PfL:function(){return io},QFr:function(){return Pc},QkL:function(){return Lc},RIR:function(){return kr},SPS:function(){return ya},SPV:function(){return Nn},SV0:function(){return B},T2j:function(){return Hr},TUE:function(){return lc},TvR:function(){return ac},U7P:function(){return $u},VKW:function(){return Fa},VcW:function(){return xc},Vi9:function(){return to},VqB:function(){return ua},WR7:function(){return Ar},X9_:function(){return uc},Y_H:function(){return Kr},Ys:function(){return Ir},ZJ1:function(){return Ur},ZUk:function(){return ju},Zg$:function(){return _r},_6L:function(){return Br},_Hq:function(){return yo},_YE:function(){return wa},bbC:function(){return $n},bjX:function(){return xo},blY:function(){return fa},dGq:function(){return K},eNq:function(){return Gr},els:function(){return ca},fLV:function(){return jo},gzs:function(){return Eo},hmm:function(){return wo},hv7:function(){return Cc},iz5:function(){return aa},izS:function(){return ko},jae:function(){return Fr},jks:function(){return ia},k55:function(){return Mr},kKo:function(){return Kn},kRc:function(){return Mn},lB7:function(){return ho},lMF:function(){return cc},lrJ:function(){return Po},mRq:function(){return va},mfU:function(){return Vn},mnA:function(){return Dn},n2N:function(){return da},nCz:function(){return Nu},nXd:function(){return Rr},njR:function(){return br},oUB:function(){return Aa},pj6:function(){return yr},plg:function(){return qr},ptC:function(){return ha},qEX:function(){return Oo},qcw:function(){return co},qnz:function(){return xa},r4l:function(){return $r},rxh:function(){return Qr},s2K:function(){return bo},s3t:function(){return zn},s7w:function(){return ma},scZ:function(){return ga},t$X:function(){return tc},tCj:function(){return po},tVv:function(){return Cr},tWr:function(){return lo},uET:function(){return uo},ulk:function(){return vo},v$F:function(){return so},w9d:function(){return Na},wEB:function(){return Ac},wEy:function(){return Lr},xje:function(){return mn},xmC:function(){return Sr},y1X:function(){return u.y1},zbr:function(){return fo},zic:function(){return ao},zwG:function(){return ja}});var r=n(91131),o=n(67294),i=n(96391),a=n(53416),u=n(49218),c=n(24762),l=n(57645),s=n(77493),f=n(68413),d=n(69609),v=n(88820);const p=(e="")=>e.length?`${e}Store`:"store",h=(e="")=>`use${((e="")=>e.length?e[0].toUpperCase()+e.slice(1):"")(e)}Store`,y=(e,{scope:t,initialStore:n,name:o=""}={})=>{const i=h(null===n||void 0===n?void 0:n.name),a=p(null===n||void 0===n?void 0:n.name),u=h(o),c=p(o),l=n?n[i]().get:{},s=n?n[i]().set:{},f=n?n[i]().use:{},d=n?n[a].atom:{};Object.keys(e).forEach((n=>{const o=(0,r.cn)(e[n]);d[n]=o,l[n]=e=>(0,r.Dv)(o,null!==e&&void 0!==e?e:t),s[n]=e=>(0,r.b9)(o,null!==e&&void 0!==e?e:t),f[n]=e=>(0,r.KO)(o,null!==e&&void 0!==e?e:t)}));const v={[u]:e=>{if(e){const n={...l},r={...s},o={...f};return Object.keys(n).forEach((r=>{const o=n[r];n[r]=n=>{var r;return o(null!==(r=null!==n&&void 0!==n?n:e)&&void 0!==r?r:t)}})),Object.keys(r).forEach((n=>{const o=r[n];r[n]=n=>{var r;return o(null!==(r=null!==n&&void 0!==n?n:e)&&void 0!==r?r:t)}})),Object.keys(o).forEach((n=>{const r=o[n];o[n]=n=>{var o;return r(null!==(o=null!==n&&void 0!==n?n:e)&&void 0!==o?o:t)}})),{get:n,set:r,use:o}}return{get:l,set:s,use:f}},[c]:{atom:d},name:o};return{...v,[c]:{...v[c],scope:t,extend:(e,n)=>y(e,{scope:t,initialStore:v,...n})}}};function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}const b=["onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onDOMBeforeInput","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],m="undefined"!==typeof navigator&&/Mac OS X/.test(navigator.userAgent),w=e=>`slate-${e}`;var j="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function E(e,t){return e(t={exports:{}},t.exports),t.exports}var k,C=E((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});for(var n={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},r={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=1;o<20;o++)r["f"+o]=111+o;function i(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map((function(e){return a(e,t)})),o=function(e){return r.some((function(t){return u(t,e)}))};return null==n?o:o(n)}function a(e,t){var r=t&&t.byKey,o={},i=(e=e.replace("++","+add")).split("+"),a=i.length;for(var u in n)o[n[u]]=!1;var s=!0,f=!1,d=void 0;try{for(var v,p=i[Symbol.iterator]();!(s=(v=p.next()).done);s=!0){var h=v.value,y=h.endsWith("?")&&h.length>1;y&&(h=h.slice(0,-1));var g=l(h),b=n[g];1!==a&&b||(r?o.key=g:o.which=c(h)),b&&(o[b]=!y||null)}}catch(m){f=!0,d=m}finally{try{!s&&p.return&&p.return()}finally{if(f)throw d}}return o}function u(e,t){for(var n in e){var r=e[n],o=void 0;if(null!=r&&((null!=(o="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&o!==r))return!1}return!0}function c(e){return e=l(e),r[e]||e.toUpperCase().charCodeAt(0)}function l(e){return e=e.toLowerCase(),e={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:"undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"}[e]||e}t.default=i,t.isHotkey=i,t.isCodeHotkey=function(e,t){return i(e,t)},t.isKeyHotkey=function(e,t){return i(e,{byKey:!0},t)},t.parseHotkey=a,t.compareHotkey=u,t.toKeyCode=c,t.toKeyName=l})),O=(k=C)&&k.__esModule&&Object.prototype.hasOwnProperty.call(k,"default")?k.default:k;C.isHotkey,C.isCodeHotkey;var _=C.isKeyHotkey;C.parseHotkey,C.compareHotkey,C.toKeyCode,C.toKeyName;const S={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",untab:"shift+tab",undo:"mod+z"},P={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},x={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},L=e=>{const t=S[e],n=P[e],r=x[e],o=t&&_(t),i=n&&_(n),a=r&&_(r);return e=>!(!o||!o(e))||(!!(m&&i&&i(e))||!(m||!a||!a(e)))},M=e=>(t,n,{composing:r}={})=>!!L(e)(n)&&!!r===(e=>i.F3.isComposing(e))(t),B={isBold:L("bold"),isCompose:L("compose"),isMoveBackward:L("moveBackward"),isMoveForward:L("moveForward"),isDeleteBackward:L("deleteBackward"),isDeleteForward:L("deleteForward"),isDeleteLineBackward:L("deleteLineBackward"),isDeleteLineForward:L("deleteLineForward"),isDeleteWordBackward:L("deleteWordBackward"),isDeleteWordForward:L("deleteWordForward"),isExtendBackward:L("extendBackward"),isExtendForward:L("extendForward"),isExtendLineBackward:L("extendLineBackward"),isExtendLineForward:L("extendLineForward"),isItalic:L("italic"),isMoveLineBackward:L("moveLineBackward"),isMoveLineForward:L("moveLineForward"),isMoveWordBackward:L("moveWordBackward"),isMoveWordForward:L("moveWordForward"),isRedo:L("redo"),isSoftBreak:L("insertSoftBreak"),isSplitBlock:L("splitBlock"),isTab:M("tab"),isTransposeCharacter:L("transposeCharacter"),isUndo:L("undo"),isUntab:M("untab")},A=/^(?:\w+:)?\/\/(\S+)$/,D=/^localhost[:?\d]*(?:[^:?\d]\S*)?$/,F=/^[^\s.]+\.\S{2,}$/,T=e=>{if("string"!==typeof e)return!1;const t=e.match(A);if(!t)return!1;const n=t[1];if(!n)return!1;try{new URL(e)}catch(r){return!1}return D.test(n)||F.test(n)},N=r.zt,K=(e,t,{handlerKeys:n,handlerQuery:r=(e=>0===e.indexOf("on"))}={})=>{const o=new Map,i={},a=e=>{e&&Object.entries(e).forEach((([e,t])=>{var a;n&&!n.includes(e)||r&&!r(e)||"function"!==typeof t?i[e]=t:(o.has(e)||o.set(e,[]),null===(a=o.get(e))||void 0===a||a.push(t),i[e]=(...t)=>{var n;null===(n=o.get(e))||void 0===n||n.forEach((e=>e(...t)))})}))};return a(e),a(t),i},R=e=>"undefined"===typeof e,z=e=>{return!(R(t=e)||(e=>null===e)(t));var t};var $=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var I=function(e){return e},V=Math.max;var U=function(e,t,n){return t=V(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=V(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=r[o];return u[t]=n(a),$(e,this,u)}};var W=function(e){return function(){return e}},Y="object"==typeof j&&j&&j.Object===Object&&j,H="object"==typeof self&&self&&self.Object===Object&&self,q=Y||H||Function("return this")(),J=q.Symbol,X=Object.prototype,G=X.hasOwnProperty,Z=X.toString,Q=J?J.toStringTag:void 0;var ee=function(e){var t=G.call(e,Q),n=e[Q];try{e[Q]=void 0;var r=!0}catch(i){}var o=Z.call(e);return r&&(t?e[Q]=n:delete e[Q]),o},te=Object.prototype.toString;var ne=function(e){return te.call(e)},re=J?J.toStringTag:void 0;var oe=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":re&&re in Object(e)?ee(e):ne(e)};var ie=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var ae=function(e){if(!ie(e))return!1;var t=oe(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ue=q["__core-js_shared__"],ce=function(){var e=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var le=function(e){return!!ce&&ce in e},se=Function.prototype.toString;var fe=function(e){if(null!=e){try{return se.call(e)}catch(t){}try{return e+""}catch(t){}}return""},de=/^\[object .+?Constructor\]$/,ve=Function.prototype,pe=Object.prototype,he=ve.toString,ye=pe.hasOwnProperty,ge=RegExp("^"+he.call(ye).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var be=function(e){return!(!ie(e)||le(e))&&(ae(e)?ge:de).test(fe(e))};var me=function(e,t){return null==e?void 0:e[t]};var we=function(e,t){var n=me(e,t);return be(n)?n:void 0},je=function(){try{var e=we(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Ee=je?function(e,t){return je(e,"toString",{configurable:!0,enumerable:!1,value:W(t),writable:!0})}:I,ke=Date.now;var Ce=function(e){var t=0,n=0;return function(){var r=ke(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},Oe=Ce(Ee);var _e=function(e,t){return Oe(U(e,t,I),e+"")};var Se=function(){this.__data__=[],this.size=0};var Pe=function(e,t){return e===t||e!==e&&t!==t};var xe=function(e,t){for(var n=e.length;n--;)if(Pe(e[n][0],t))return n;return-1},Le=Array.prototype.splice;var Me=function(e){var t=this.__data__,n=xe(t,e);return!(n<0)&&(n==t.length-1?t.pop():Le.call(t,n,1),--this.size,!0)};var Be=function(e){var t=this.__data__,n=xe(t,e);return n<0?void 0:t[n][1]};var Ae=function(e){return xe(this.__data__,e)>-1};var De=function(e,t){var n=this.__data__,r=xe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Fe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Fe.prototype.clear=Se,Fe.prototype.delete=Me,Fe.prototype.get=Be,Fe.prototype.has=Ae,Fe.prototype.set=De;var Te=Fe;var Ne=function(){this.__data__=new Te,this.size=0};var Ke=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Re=function(e){return this.__data__.get(e)};var ze=function(e){return this.__data__.has(e)},$e=we(q,"Map"),Ie=we(Object,"create");var Ve=function(){this.__data__=Ie?Ie(null):{},this.size=0};var Ue=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},We=Object.prototype.hasOwnProperty;var Ye=function(e){var t=this.__data__;if(Ie){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return We.call(t,e)?t[e]:void 0},He=Object.prototype.hasOwnProperty;var qe=function(e){var t=this.__data__;return Ie?void 0!==t[e]:He.call(t,e)};var Je=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ie&&void 0===t?"__lodash_hash_undefined__":t,this};function Xe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Xe.prototype.clear=Ve,Xe.prototype.delete=Ue,Xe.prototype.get=Ye,Xe.prototype.has=qe,Xe.prototype.set=Je;var Ge=Xe;var Ze=function(){this.size=0,this.__data__={hash:new Ge,map:new($e||Te),string:new Ge}};var Qe=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var et=function(e,t){var n=e.__data__;return Qe(t)?n["string"==typeof t?"string":"hash"]:n.map};var tt=function(e){var t=et(this,e).delete(e);return this.size-=t?1:0,t};var nt=function(e){return et(this,e).get(e)};var rt=function(e){return et(this,e).has(e)};var ot=function(e,t){var n=et(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function it(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}it.prototype.clear=Ze,it.prototype.delete=tt,it.prototype.get=nt,it.prototype.has=rt,it.prototype.set=ot;var at=it;var ut=function(e,t){var n=this.__data__;if(n instanceof Te){var r=n.__data__;if(!$e||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new at(r)}return n.set(e,t),this.size=n.size,this};function ct(e){var t=this.__data__=new Te(e);this.size=t.size}ct.prototype.clear=Ne,ct.prototype.delete=Ke,ct.prototype.get=Re,ct.prototype.has=ze,ct.prototype.set=ut;var lt=ct;var st=function(e,t,n){"__proto__"==t&&je?je(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var ft=function(e,t,n){(void 0!==n&&!Pe(e[t],n)||void 0===n&&!(t in e))&&st(e,t,n)};var dt=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),u=a.length;u--;){var c=a[e?u:++o];if(!1===n(i[c],c,i))break}return t}}(),vt=E((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?q.Buffer:void 0,i=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}})),pt=q.Uint8Array;var ht=function(e){var t=new e.constructor(e.byteLength);return new pt(t).set(new pt(e)),t};var yt=function(e,t){var n=t?ht(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var gt=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},bt=Object.create,mt=function(){function e(){}return function(t){if(!ie(t))return{};if(bt)return bt(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var wt=function(e,t){return function(n){return e(t(n))}},jt=wt(Object.getPrototypeOf,Object),Et=Object.prototype;var kt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Et)};var Ct=function(e){return"function"!=typeof e.constructor||kt(e)?{}:mt(jt(e))};var Ot=function(e){return null!=e&&"object"==typeof e};var _t=function(e){return Ot(e)&&"[object Arguments]"==oe(e)},St=Object.prototype,Pt=St.hasOwnProperty,xt=St.propertyIsEnumerable,Lt=_t(function(){return arguments}())?_t:function(e){return Ot(e)&&Pt.call(e,"callee")&&!xt.call(e,"callee")},Mt=Lt,Bt=Array.isArray;var At=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Dt=function(e){return null!=e&&At(e.length)&&!ae(e)};var Ft=function(e){return Ot(e)&&Dt(e)};var Tt=function(){return!1},Nt=E((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?q.Buffer:void 0,i=(o?o.isBuffer:void 0)||Tt;e.exports=i})),Kt=Function.prototype,Rt=Object.prototype,zt=Kt.toString,$t=Rt.hasOwnProperty,It=zt.call(Object);var Vt=function(e){if(!Ot(e)||"[object Object]"!=oe(e))return!1;var t=jt(e);if(null===t)return!0;var n=$t.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&zt.call(n)==It},Ut={};Ut["[object Float32Array]"]=Ut["[object Float64Array]"]=Ut["[object Int8Array]"]=Ut["[object Int16Array]"]=Ut["[object Int32Array]"]=Ut["[object Uint8Array]"]=Ut["[object Uint8ClampedArray]"]=Ut["[object Uint16Array]"]=Ut["[object Uint32Array]"]=!0,Ut["[object Arguments]"]=Ut["[object Array]"]=Ut["[object ArrayBuffer]"]=Ut["[object Boolean]"]=Ut["[object DataView]"]=Ut["[object Date]"]=Ut["[object Error]"]=Ut["[object Function]"]=Ut["[object Map]"]=Ut["[object Number]"]=Ut["[object Object]"]=Ut["[object RegExp]"]=Ut["[object Set]"]=Ut["[object String]"]=Ut["[object WeakMap]"]=!1;var Wt=function(e){return Ot(e)&&At(e.length)&&!!Ut[oe(e)]};var Yt=function(e){return function(t){return e(t)}},Ht=E((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&Y.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=i})),qt=Ht&&Ht.isTypedArray,Jt=qt?Yt(qt):Wt;var Xt=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]},Gt=Object.prototype.hasOwnProperty;var Zt=function(e,t,n){var r=e[t];Gt.call(e,t)&&Pe(r,n)&&(void 0!==n||t in e)||st(e,t,n)};var Qt=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var u=t[i],c=r?r(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),o?st(n,u,c):Zt(n,u,c)}return n};var en=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},tn=/^(?:0|[1-9]\d*)$/;var nn=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&tn.test(e))&&e>-1&&e%1==0&&e<t},rn=Object.prototype.hasOwnProperty;var on=function(e,t){var n=Bt(e),r=!n&&Mt(e),o=!n&&!r&&Nt(e),i=!n&&!r&&!o&&Jt(e),a=n||r||o||i,u=a?en(e.length,String):[],c=u.length;for(var l in e)!t&&!rn.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||nn(l,c))||u.push(l);return u};var an=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},un=Object.prototype.hasOwnProperty;var cn=function(e){if(!ie(e))return an(e);var t=kt(e),n=[];for(var r in e)("constructor"!=r||!t&&un.call(e,r))&&n.push(r);return n};var ln=function(e){return Dt(e)?on(e,!0):cn(e)};var sn=function(e){return Qt(e,ln(e))};var fn=function(e,t,n,r,o,i,a){var u=Xt(e,n),c=Xt(t,n),l=a.get(c);if(l)ft(e,n,l);else{var s=i?i(u,c,n+"",e,t,a):void 0,f=void 0===s;if(f){var d=Bt(c),v=!d&&Nt(c),p=!d&&!v&&Jt(c);s=c,d||v||p?Bt(u)?s=u:Ft(u)?s=gt(u):v?(f=!1,s=vt(c,!0)):p?(f=!1,s=yt(c,!0)):s=[]:Vt(c)||Mt(c)?(s=u,Mt(u)?s=sn(u):ie(u)&&!ae(u)||(s=Ct(c))):f=!1}f&&(a.set(c,s),o(s,c,r,i,a),a.delete(c)),ft(e,n,s)}};var dn=function e(t,n,r,o,i){t!==n&&dt(n,(function(a,u){if(i||(i=new lt),ie(a))fn(t,n,u,r,e,o,i);else{var c=o?o(Xt(t,u),a,u+"",t,n,i):void 0;void 0===c&&(c=a),ft(t,u,c)}}),ln)};var vn=function e(t,n,r,o,i,a){return ie(t)&&ie(n)&&(a.set(n,t),dn(t,n,void 0,e,a),a.delete(n)),t};var pn=function(e,t,n){if(!ie(n))return!1;var r=typeof t;return!!("number"==r?Dt(n)&&nn(t,n.length):"string"==r&&t in n)&&Pe(n[t],e)};var hn=function(e){return _e((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&pn(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,i)}return t}))},yn=hn((function(e,t,n,r){dn(e,t,n,r)})),gn=_e((function(e){return e.push(void 0,vn),$(yn,void 0,e)}));const bn=(e,t={},n)=>{var r;if(t[e.key]){const{plugins:r,then:o,...i}=t[e.key];e=gn(i,e),n||null===r||void 0===r||r.forEach((t=>{e.plugins||(e.plugins=[]);e.plugins.find((e=>e.key===t.key))||e.plugins.push(t)}))}e.plugins&&(e.plugins=e.plugins.map((e=>bn(e,t,!0))));const{then:o}=e;return o?e.then=(n,r)=>{const i={key:e.key,...o(n,r)};return gn(bn(i,t),i)}:null!==(r=t[e.key])&&void 0!==r&&r.then&&(e.then=t[e.key].then),e},mn=e=>(t,n={})=>(n[e.key]=t,bn({...e},n)),wn="deserializeAst",jn=mn({key:wn,editor:{insertData:{format:"application/x-slate-fragment",getFragment:({data:e})=>{const t=decodeURIComponent(window.atob(e));return JSON.parse(t)}}}}),En=(0,c.MT)("event-editor")({blur:null,focus:null,last:null}),kn=En.set,Cn=En.get,On=(En.use,"event-editor"),_n=mn({key:On,handlers:{onFocus:e=>()=>{kn.focus(e.id)},onBlur:e=>()=>{Cn.focus()===e.id&&kn.focus(null),kn.blur(e.id)}}}),Sn=mn({key:"history",withOverrides:e=>(0,l.VC)(e)}),Pn="inline-void",xn=mn({key:Pn,withOverrides:e=>{const{isInline:t}=e,{isVoid:n}=e,r=[],o=[];return e.plugins.forEach((e=>{e.isInline&&r.push(e.type),e.isVoid&&o.push(e.type)})),e.isInline=e=>!!r.includes(e.type)||t(e),e.isVoid=e=>!!o.includes(e.type)||n(e),e}}),Ln=(e,t)=>{const n=[];return[...e.plugins].reverse().forEach((e=>{var r;const o=null===(r=e.inject.pluginsByKey)||void 0===r?void 0:r[t.key];o&&n.push(o)})),[t,...n]},Mn=(e,t)=>{let n=!1;return s.ML.withoutNormalizing(e,(()=>{n=!!t()})),n},Bn="insertData",An=mn({key:Bn,withOverrides:e=>{const{insertData:t}=e;return e.insertData=n=>{const r=[...e.plugins].reverse().some((t=>{var r;const o=t.editor.insertData;if(!o)return!1;const i=Ln(e,t),{format:a,getFragment:u}=o;if(!a)return!1;let c=n.getData(a);if(!c)return;if(!((e,{data:t,dataTransfer:n})=>e.every((e=>{var r,o;const i=null===(r=e.editor)||void 0===r||null===(o=r.insertData)||void 0===o?void 0:o.query;return!i||i({data:t,dataTransfer:n})})))(i,{data:c,dataTransfer:n}))return!1;c=((e,{data:t,dataTransfer:n})=>(e.forEach((e=>{var r,o;const i=null===(r=e.editor)||void 0===r||null===(o=r.insertData)||void 0===o?void 0:o.transformData;i&&(t=i(t,{dataTransfer:n}))})),t))(i,{data:c,dataTransfer:n});let l=null===u||void 0===u?void 0:u({data:c,dataTransfer:n});return!(null===(r=l)||void 0===r||!r.length)&&(l=((e,{fragment:t,...n})=>(e.forEach((e=>{var r,o;const i=null===(r=e.editor)||void 0===r||null===(o=r.insertData)||void 0===o?void 0:o.transformFragment;i&&(t=i(t,n))})),t))(i,{fragment:l,data:c,dataTransfer:n}),!!l.length&&(((e,t,{fragment:n,...r})=>{Mn(e,(()=>{t.some((e=>{var t,o,i;return!0===(null===(t=e.editor)||void 0===t||null===(o=t.insertData)||void 0===o||null===(i=o.preInsert)||void 0===i?void 0:i.call(o,n,r))})),e.insertFragment(n)}))})(e,i,{fragment:l,data:c,dataTransfer:n}),!0))}));r||t(n)},e}}),Dn="p",Fn="nodeFactory",Tn=mn({key:Fn,withOverrides:e=>(e.blockFactory=t=>({type:$n(e,Dn),children:[{text:""}],...t}),e.childrenFactory=()=>[e.blockFactory()],e)}),Nn=mn({key:"react",withOverrides:e=>(0,i.BU)(e)}),Kn=e=>s.W_.isElement(e),Rn=e=>s.xv.isText(e),zn=(e,t)=>{var n;return null!==(n=(e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.pluginsByKey)&&void 0!==t?t:{}})(e)[t])&&void 0!==n?n:{key:t}},$n=(e,t)=>{var n,r;return null!==(n=null!==(r=zn(e,t).type)&&void 0!==r?r:t)&&void 0!==n?n:""},In=(e,t,n)=>(e=((e,t,n)=>{const r=((e,t)=>e.some(((e,n,r)=>{const o=r[n-1];return 0!==n&&t(e)!==t(o)})))(e,t),{fragment:o}=e.reduce(((e,o)=>{if(r&&t(o)){let t=e.precedingBlock;t||(t=n(),e.precedingBlock=t,e.fragment.push(t)),t.children.push(o)}else e.fragment.push(o),e.precedingBlock=null;return e}),{fragment:[],precedingBlock:null});return o})(e=(e=>e.length?e:[{text:""}])(e),t,n),e=e.map((e=>Kn(e)?{...e,children:In(e.children,t,n)}:e))),Vn=(e,{descendants:t})=>{const n=(e=>t=>Rn(t)||Kn(t)&&e.isInline(t))(e),r=$n(e,Dn),o=(i=r,()=>({type:i,children:[]}));var i;return In(t,n,o)};function Un(e){return"[object Object]"===Object.prototype.toString.call(e)}function Wn(e){var t,n;return!1!==Un(e)&&(void 0===(t=e.constructor)||!1!==Un(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}function Yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hn=new WeakMap,qn=new WeakMap;class Jn{}class Xn extends Jn{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:n}=e;this.offset=t,this.path=n}}class Gn extends Jn{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:n}=e;this.offset=t,this.path=n}}var Zn=e=>qn.get(e);function Qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(n),!0).forEach((function(t){Yn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tr=new WeakSet,nr=e=>{var t=[],n=e=>{if(null!=e){var r=t[t.length-1];if("string"===typeof e){var o={text:e};tr.add(o),e=o}if(s.xv.isText(e)){var i=e;s.xv.isText(r)&&tr.has(r)&&tr.has(i)&&s.xv.equals(r,i,{loose:!0})?r.text+=i.text:t.push(i)}else if(s.W_.isElement(e))t.push(e);else{if(!(e instanceof Jn))throw new Error("Unexpected hyperscript child object: ".concat(e));var a=t[t.length-1];s.xv.isText(a)||(n(""),a=t[t.length-1]),e instanceof Xn?((e,t)=>{var n=e.text.length;Hn.set(e,[n,t])})(a,e):e instanceof Gn&&((e,t)=>{var n=e.text.length;qn.set(e,[n,t])})(a,e)}}};for(var r of e.flat(1/0))n(r);return t};function rr(e,t,n){return er(er({},t),{},{children:nr(n)})}function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){Yn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ar,ur={anchor:function(e,t,n){return new Xn(t)},cursor:function(e,t,n){return[new Xn(t),new Gn(t)]},editor:(ar=s.Jh,(e,t,n)=>{var r,o=[];for(var i of n)s.e6.isRange(i)?r=i:o.push(i);var a,u=nr(o),c={},l=ar();for(var[f,d]of(Object.assign(l,t),l.children=u,s.NB.texts(l))){var v=(a=f,Hn.get(a)),p=Zn(f);if(null!=v){var[h]=v;c.anchor={path:d,offset:h}}if(null!=p){var[y]=p;c.focus={path:d,offset:y}}}if(c.anchor&&!c.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!c.anchor&&c.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return null!=r?l.selection=r:s.e6.isRange(c)&&(l.selection=c),l}),element:rr,focus:function(e,t,n){return new Gn(t)},fragment:function(e,t,n){return nr(n)},selection:function(e,t,n){var r=n.find((e=>e instanceof Xn)),o=n.find((e=>e instanceof Gn));if(!r||null==r.offset||null==r.path)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!o||null==o.offset||null==o.path)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return er({anchor:{offset:r.offset,path:r.path},focus:{offset:o.offset,path:o.path}},t)},text:function(e,t,n){var r=nr(n);if(r.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[o]=r;if(null==o&&(o={text:""}),!s.xv.isText(o))throw new Error("\n    The <text> hyperscript tag can only contain text content as children.");return tr.delete(o),Object.assign(o,t),o}},cr=e=>function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=e[t];if(!a)throw new Error("No hyperscript creator found for tag: <".concat(t,">"));null==n&&(n={}),Wn(n)||(o=[n].concat(o),n={});var u=a(t,n,o=o.filter((e=>Boolean(e))).flat());return u},lr=e=>{var t={},n=function(n){var r=e[n];if("object"!==typeof r)throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(n,">  tag you passed: ").concat(r));t[n]=(e,t,n)=>rr(0,ir(ir({},r),t),n)};for(var r in e)n(r);return t},sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{elements:t={}}=e,n=lr(t),r=ir(ir(ir({},ur),n),e.creators),o=cr(r);return o}();const fr=(e,t)=>Array.from(t.childNodes).map(_a(e)).flat();var dr=function(){if(!arguments.length)return[];var e=arguments[0];return Bt(e)?e:[e]};const vr=(e,t,{element:n,deserializeLeaf:r})=>{var o;const{deserializeHtml:i,isElement:a,isLeaf:u,type:c}=t;if(!i)return;const{attributeNames:l,query:s,isLeaf:f,isElement:d,rules:v}=i;let{getNode:p}=i;const h=d||a,y=f||u;if(!r&&!h)return;if(r&&!y)return;if(v){if(!v.some((({validNodeName:e="*",validStyle:r,validClassName:o,validAttribute:i})=>{if(e){const t=dr(e);if(t.length&&!t.includes(n.nodeName)&&"*"!==e)return!1}if(o&&!n.classList.contains(o))return!1;if(r)for(const[u,c]of Object.entries(r)){var a;if(!dr(c).includes(n.style[u])&&"*"!==c)return;if("*"===c&&!n.style[u])return;const e=null===(a=t.inject.props)||void 0===a?void 0:a.defaultNodeValue;if(e&&e===n.style[u])return!1}if(i)if("string"===typeof i){if(!n.getAttributeNames().includes(i))return!1}else for(const[t,u]of Object.entries(i)){const e=dr(u),r=n.getAttribute(t);if(!r||!e.includes(r))return!1}return!0})))return}if(s&&!s(n))return;if(!p)if(h)p=()=>({type:c});else{if(!y)return;p=()=>({[c]:!0})}let g=null!==(o=p(n,{}))&&void 0!==o?o:{};if(!Object.keys(g).length)return;if(Ln(e,t).forEach((e=>{var t,r;const o=null===(t=e.deserializeHtml)||void 0===t||null===(r=t.getNode)||void 0===r?void 0:r.call(t,n,g);o&&(g={...g,...o})})),l){const e={},t=n.getAttributeNames();for(const r of t)l.includes(r)&&(e[r]=n.getAttribute(r));Object.keys(e).length&&(g.attributes=e)}return{...i,node:g}},pr=(e,t)=>{const n=((e,t)=>{let n;return[...e.plugins].reverse().some((r=>(n=vr(e,r,{element:t}),!!n))),n})(e,t);if(n){var r;const{node:o,withoutChildren:i}=n;let a=null!==(r=o.children)&&void 0!==r?r:fr(e,t);return a.length&&!i||(a=[{text:""}]),sr("element",o,a)}};var hr=hn((function(e,t,n){dn(e,t,n)}));const yr=(e,t,n)=>s.ML.node(e,t,n),gr=(e,t,n)=>s.ML.path(e,t,n),br=(e,t)=>s.ML.isVoid(e,t),mr=(e,t)=>s.ML.isBlock(e,t),wr=(e,t,n)=>!n||("object"===typeof n?Object.entries(n).every((([t,n])=>dr(n).includes(e[t]))):n(e,t)),jr=(e,t={})=>{const{match:n,block:r}=t;return{...t,match:n||r?(t,o)=>wr(t,o,n)&&(!r||mr(e,t)):void 0}},Er=(e,t)=>{try{const{match:n,at:r=e.selection,reverse:o=!1,voids:i=!1}=t;if(!r)return;let a,u;if(s.Dr.isSpan(r))[a,u]=r;else if(s.e6.isRange(r)){const t=gr(e,r,{edge:"start"}),n=gr(e,r,{edge:"end"});a=o?n:t,u=o?t:n}let c=[e,[]];s.y$.isPath(r)&&(c=yr(e,r));const l=((e,t)=>s.NB.descendants(e,t))(c[0],{reverse:o,from:a,to:u,pass:([t])=>!i&&br(e,t)});for(const[e,t]of l)if(wr(e,t,n))return[e,r.concat(t)]}catch(n){return}},kr=(e,t,n={})=>{const{voids:r,unhang:o=!0}=n;if(s.e6.isRange(t)&&o)return s.ML.unhangRange(e,t,{voids:r})},Cr=(e,t)=>(kr(e,null===t||void 0===t?void 0:t.at,t),s.ML.nodes(e,jr(e,t))),Or=(e,t={})=>{try{const n=Cr(e,{at:e.selection||[],...jr(e,t)});for(const[e,t]of n)return[e,t]}catch(n){return}},_r=(e,t)=>s.ML.above(e,jr(e,t)),Sr=(e,t={})=>_r(e,{...t,block:!0}),Pr=e=>s.W_.isAncestor(e),xr=e=>{const[t,n]=e;if(Pr(t)){const{children:e}=t;return e.map(((e,t)=>[e,n.concat([t])]))}return[]},Lr=e=>{const t=(e=>{const[t,n]=e;if(Rn(t))return null;if(!t.children.length)return null;const r=t.children;return[r[r.length-1],n.concat([r.length-1])]})(e);return t?t[1]:e[1].concat([-1])},Mr=(e,t)=>{const n=Lr(e);return s.y$.equals(n,t)},Br=e=>s.ML.marks(e),Ar=(e,t,n)=>s.ML.pathRef(e,t,n),Dr=(e,t,n)=>s.ML.pointRef(e,t,n),Fr=(e,t)=>s.ML.deleteBackward(e,t),Tr=e=>!!Rn(e)||1===e.children.length&&Tr(e.children[0]),Nr=(e,t,n)=>{try{return s.ML.parent(e,t,n)}catch(r){}},Kr=(e,t)=>s.ML.previous(e,t),Rr=(e,t)=>{s.YR.delete(e,t)},zr=(e,t)=>s.YR.moveNodes(e,t),$r=(e,t)=>s.YR.removeNodes(e,t),Ir=(e,t)=>{s.YR.select(e,t)},Vr=(e,t={})=>{Mn(e,(()=>{let{match:n,at:r=e.selection}=t;const{mergeNode:o,removeEmptyAncestor:i,hanging:a=!1,voids:u=!1,mode:c="lowest"}=t;if(!r)return;if(null==n)if(s.y$.isPath(r)){const[t]=Nr(e,r);n=e=>t.children.includes(e)}else n=t=>mr(e,t);if(!a&&s.e6.isRange(r)&&(r=s.ML.unhangRange(e,r)),s.e6.isRange(r))if(s.e6.isCollapsed(r))r=r.anchor;else{const[,n]=s.e6.edges(r),o=Dr(e,n);Rr(e,{at:r}),r=o.unref(),null==t.at&&Ir(e,r)}const l=Cr(e,{at:r,match:n,voids:u,mode:c}),[f]=Array.from(l),d=Kr(e,{at:r,match:n,voids:u,mode:c});if(!f||!d)return;const[v,p]=f,[h,y]=d;if(0===p.length||0===y.length)return;const g=s.y$.next(y),b=s.y$.common(p,y),m=s.y$.isSibling(p,y),w=s.ML.levels(e,{at:p}),j=Array.from(w,(([e])=>e)).slice(b.length).slice(0,-1),E=_r(e,{at:p,mode:"highest",match:e=>j.includes(e)&&Kn(e)&&Tr(e)}),k=E&&Ar(e,E[1]);let C,O;if(Rn(v)&&Rn(h)){const{text:e,...t}=v;O=h.text.length,C=t}else{if(!Kn(v)||!Kn(h))throw new Error(`Cannot merge the node at path [${p}] with the previous sibling because it is not the same kind: ${JSON.stringify(v)} ${JSON.stringify(h)}`);{const{children:e,...t}=v;O=h.children.length,C=t}}if(m||o||zr(e,{at:p,to:g,voids:u}),k)if(i){const t=k.current;t&&i(e,{at:t})}else $r(e,{at:k.current,voids:u});o?o(e,{at:p,to:g}):Kn(h)&&((e,t)=>s.ML.isEmpty(e,t))(e,h)||Rn(h)&&""===h.text?$r(e,{at:y,voids:u}):e.apply({type:"merge_node",path:g,position:O,properties:C}),k&&k.unref()}))},Ur=(e,t)=>s.ML.end(e,t),Wr=(e,t,n)=>s.ML.leaf(e,t,n),Yr=(e,t,n)=>s.ML.after(e,t,n),Hr=(e,t,n)=>s.ML.before(e,t,n),qr=(e,t)=>s.ML.start(e,t),Jr=(e,t)=>s.ML.void(e,t),Xr=(e,t={})=>{Mn(e,(()=>{const{reverse:n=!1,unit:r="character",distance:o=1,voids:i=!1}=t;let{at:a=e.selection,hanging:u=!1}=t;if(!a)return;if(s.e6.isRange(a)&&s.e6.isCollapsed(a)&&(a=a.anchor),s.E9.isPoint(a)){const t=Jr(e,{at:a,mode:"highest"});if(!i&&t){const[,e]=t;a=e}else{const t={unit:r,distance:o};a={anchor:a,focus:n?Hr(e,a,t)||qr(e,[]):Yr(e,a,t)||Ur(e,[])},u=!0}}if(s.y$.isPath(a))return void $r(e,{at:a,voids:i});if(s.e6.isCollapsed(a))return;u||(a=s.ML.unhangRange(e,a,{voids:i}));let[c,l]=s.e6.edges(a);const f=_r(e,{match:t=>mr(e,t),at:c,voids:i}),d=_r(e,{match:t=>mr(e,t),at:l,voids:i}),v=f&&d&&!s.y$.equals(f[1],d[1]),p=s.y$.equals(c.path,l.path),h=i?null:Jr(e,{at:c,mode:"highest"}),y=i?null:Jr(e,{at:l,mode:"highest"});if(h){const t=Hr(e,c);t&&f&&s.y$.isAncestor(f[1],t.path)&&(c=t)}if(y){const t=Yr(e,l);t&&d&&s.y$.isAncestor(d[1],t.path)&&(l=t)}const g=[];let b;const m=Cr(e,{at:a,voids:i});for(const t of m){const[n,r]=t;b&&0===s.y$.compare(r,b)||(!i&&br(e,n)||!s.y$.isCommon(r,c.path)&&!s.y$.isCommon(r,l.path))&&(g.push(t),b=r)}const w=Array.from(g,(([,t])=>Ar(e,t))),j=Dr(e,c),E=Dr(e,l);if(!p&&!h){const t=j.current,[n]=Wr(e,t),{path:r}=t,{offset:o}=c,i=n.text.slice(o);e.apply({type:"remove_text",path:r,offset:o,text:i})}for(const t of w){const n=t.unref();$r(e,{at:n,voids:i})}if(!y){const t=E.current,[n]=Wr(e,t),{path:r}=t,o=p?c.offset:0,i=n.text.slice(o,l.offset);e.apply({type:"remove_text",path:r,offset:o,text:i})}!p&&v&&E.current&&j.current&&Vr(e,{at:E.current,hanging:!0,voids:i});const k=E.unref()||j.unref();null==t.at&&k&&Ir(e,k)}))},Gr=(e,t,n)=>t?s.ML.string(e,t,n):"",Zr=(e,t,n)=>s.ML.point(e,t,n),Qr=(e,t,n)=>s.ML.range(e,t,n),eo=(e,t,n)=>!!t&&s.ML.isEnd(e,t,n),to=(e,t,n)=>!!t&&s.ML.isStart(e,t,n),no=(e,t)=>s.ML.normalize(e,t),ro=(e,t,n)=>s.NB.common(e,t,n),oo=(e,t)=>{try{for(let n=0;n<t.length;n++){const r=t[n];if(Rn(e)||!e.children[r])return null;e=e.children[r]}return e}catch(n){return null}},io=(e,t)=>s.NB.child(e,t),ao=(e,t)=>s.NB.leaf(e,t),uo=e=>s.NB.extractProps(e),co=e=>s.NB.string(e),lo=(e,t)=>s.NB.texts(e,t),so=(e,t)=>s.NB.nodes(e,t),fo=e=>!!e&&s.e6.isCollapsed(e),vo=e=>!!e&&s.e6.isExpanded(e),po=e=>i.F3.blur(e),ho=(e,t)=>{s.YR.collapse(e,t)},yo=e=>{s.YR.deselect(e)},go=(e,t,n)=>{s.YR.insertFragment(e,t,n)},bo=(e,t,n)=>s.YR.insertNodes(e,t,n),mo=(e,t,n)=>{s.YR.insertText(e,t,n)},wo=(e,t)=>s.YR.liftNodes(e,t),jo=(e,t,n)=>s.YR.setNodes(e,t,n),Eo=(e,t)=>s.YR.splitNodes(e,t),ko=(e,t,n)=>s.YR.unsetNodes(e,t,n),Co=(e,t)=>{s.YR.unwrapNodes(e,jr(e,t))},Oo=(e,t,n)=>{kr(e,null===n||void 0===n?void 0:n.at,n),s.YR.wrapNodes(e,t,n)},_o=(e,t)=>{t&&Mn(e,(()=>{yo(e),Ir(e,t)})),i.F3.focus(e)},So=e=>i.F3.isFocused(e),Po=(e,t)=>{try{return i.F3.toDOMRange(e,t)}catch(n){}},xo=(e,t)=>{const n=((e,t)=>s.ML.next(e,t))(e,{at:t});if(n)return qr(e,n[1])};var Lo=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o};var Mo=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Bo=function(e){return this.__data__.has(e)};function Ao(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new at;++t<n;)this.add(e[t])}Ao.prototype.add=Ao.prototype.push=Mo,Ao.prototype.has=Bo;var Do=Ao;var Fo=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var To=function(e,t){return e.has(t)};var No=function(e,t,n,r,o,i){var a=1&n,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var l=i.get(e),s=i.get(t);if(l&&s)return l==t&&s==e;var f=-1,d=!0,v=2&n?new Do:void 0;for(i.set(e,t),i.set(t,e);++f<u;){var p=e[f],h=t[f];if(r)var y=a?r(h,p,f,t,e,i):r(p,h,f,e,t,i);if(void 0!==y){if(y)continue;d=!1;break}if(v){if(!Fo(t,(function(e,t){if(!To(v,t)&&(p===e||o(p,e,n,r,i)))return v.push(t)}))){d=!1;break}}else if(p!==h&&!o(p,h,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d};var Ko=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var Ro=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},zo=J?J.prototype:void 0,$o=zo?zo.valueOf:void 0;var Io=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new pt(e),new pt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Pe(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=Ko;case"[object Set]":var c=1&r;if(u||(u=Ro),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var s=No(u(e),u(t),r,o,i,a);return a.delete(e),s;case"[object Symbol]":if($o)return $o.call(e)==$o.call(t)}return!1};var Vo=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e};var Uo=function(e,t,n){var r=t(e);return Bt(e)?r:Vo(r,n(e))};var Wo=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var Yo=function(){return[]},Ho=Object.prototype.propertyIsEnumerable,qo=Object.getOwnPropertySymbols,Jo=qo?function(e){return null==e?[]:(e=Object(e),Wo(qo(e),(function(t){return Ho.call(e,t)})))}:Yo,Xo=wt(Object.keys,Object),Go=Object.prototype.hasOwnProperty;var Zo=function(e){if(!kt(e))return Xo(e);var t=[];for(var n in Object(e))Go.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Qo=function(e){return Dt(e)?on(e):Zo(e)};var ei=function(e){return Uo(e,Qo,Jo)},ti=Object.prototype.hasOwnProperty;var ni=function(e,t,n,r,o,i){var a=1&n,u=ei(e),c=u.length;if(c!=ei(t).length&&!a)return!1;for(var l=c;l--;){var s=u[l];if(!(a?s in t:ti.call(t,s)))return!1}var f=i.get(e),d=i.get(t);if(f&&d)return f==t&&d==e;var v=!0;i.set(e,t),i.set(t,e);for(var p=a;++l<c;){var h=e[s=u[l]],y=t[s];if(r)var g=a?r(y,h,s,t,e,i):r(h,y,s,e,t,i);if(!(void 0===g?h===y||o(h,y,n,r,i):g)){v=!1;break}p||(p="constructor"==s)}if(v&&!p){var b=e.constructor,m=t.constructor;b==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m||(v=!1)}return i.delete(e),i.delete(t),v},ri=we(q,"DataView"),oi=we(q,"Promise"),ii=we(q,"Set"),ai=we(q,"WeakMap"),ui="[object Map]",ci="[object Promise]",li="[object Set]",si="[object WeakMap]",fi="[object DataView]",di=fe(ri),vi=fe($e),pi=fe(oi),hi=fe(ii),yi=fe(ai),gi=oe;(ri&&gi(new ri(new ArrayBuffer(1)))!=fi||$e&&gi(new $e)!=ui||oi&&gi(oi.resolve())!=ci||ii&&gi(new ii)!=li||ai&&gi(new ai)!=si)&&(gi=function(e){var t=oe(e),n="[object Object]"==t?e.constructor:void 0,r=n?fe(n):"";if(r)switch(r){case di:return fi;case vi:return ui;case pi:return ci;case hi:return li;case yi:return si}return t});var bi=gi,mi="[object Arguments]",wi="[object Array]",ji="[object Object]",Ei=Object.prototype.hasOwnProperty;var ki=function(e,t,n,r,o,i){var a=Bt(e),u=Bt(t),c=a?wi:bi(e),l=u?wi:bi(t),s=(c=c==mi?ji:c)==ji,f=(l=l==mi?ji:l)==ji,d=c==l;if(d&&Nt(e)){if(!Nt(t))return!1;a=!0,s=!1}if(d&&!s)return i||(i=new lt),a||Jt(e)?No(e,t,n,r,o,i):Io(e,t,c,n,r,o,i);if(!(1&n)){var v=s&&Ei.call(e,"__wrapped__"),p=f&&Ei.call(t,"__wrapped__");if(v||p){var h=v?e.value():e,y=p?t.value():t;return i||(i=new lt),o(h,y,n,r,i)}}return!!d&&(i||(i=new lt),ni(e,t,n,r,o,i))};var Ci=function e(t,n,r,o,i){return t===n||(null==t||null==n||!Ot(t)&&!Ot(n)?t!==t&&n!==n:ki(t,n,r,o,e,i))};var Oi=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var u=n[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<i;){var c=(u=n[o])[0],l=e[c],s=u[1];if(a&&u[2]){if(void 0===l&&!(c in e))return!1}else{var f=new lt;if(r)var d=r(l,s,c,e,t,f);if(!(void 0===d?Ci(s,l,3,r,f):d))return!1}}return!0};var _i=function(e){return e===e&&!ie(e)};var Si=function(e){for(var t=Qo(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,_i(o)]}return t};var Pi=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var xi=function(e){var t=Si(e);return 1==t.length&&t[0][2]?Pi(t[0][0],t[0][1]):function(n){return n===e||Oi(n,e,t)}};var Li=function(e){return"symbol"==typeof e||Ot(e)&&"[object Symbol]"==oe(e)},Mi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bi=/^\w*$/;var Ai=function(e,t){if(Bt(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Li(e))||(Bi.test(e)||!Mi.test(e)||null!=t&&e in Object(t))};function Di(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Di.Cache||at),n}Di.Cache=at;var Fi=Di;var Ti=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ni=/\\(\\)?/g,Ki=function(e){var t=Fi(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ti,(function(e,n,r,o){t.push(r?o.replace(Ni,"$1"):n||e)})),t})),Ri=Ki,zi=J?J.prototype:void 0,$i=zi?zi.toString:void 0;var Ii=function e(t){if("string"==typeof t)return t;if(Bt(t))return Lo(t,e)+"";if(Li(t))return $i?$i.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var Vi=function(e){return null==e?"":Ii(e)};var Ui=function(e,t){return Bt(e)?e:Ai(e,t)?[e]:Ri(Vi(e))};var Wi=function(e){if("string"==typeof e||Li(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var Yi=function(e,t){for(var n=0,r=(t=Ui(t,e)).length;null!=e&&n<r;)e=e[Wi(t[n++])];return n&&n==r?e:void 0};var Hi=function(e,t,n){var r=null==e?void 0:Yi(e,t);return void 0===r?n:r};var qi=function(e,t){return null!=e&&t in Object(e)};var Ji=function(e,t,n){for(var r=-1,o=(t=Ui(t,e)).length,i=!1;++r<o;){var a=Wi(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&At(o)&&nn(a,o)&&(Bt(e)||Mt(e))};var Xi=function(e,t){return null!=e&&Ji(e,t,qi)};var Gi=function(e,t){return Ai(e)&&_i(t)?Pi(Wi(e),t):function(n){var r=Hi(n,e);return void 0===r&&r===t?Xi(n,e):Ci(t,r,3)}};var Zi=function(e){return function(t){return null==t?void 0:t[e]}};var Qi=function(e){return function(t){return Yi(t,e)}};var ea=function(e){return Ai(e)?Zi(Wi(e)):Qi(e)};var ta=function(e){return"function"==typeof e?e:null==e?I:"object"==typeof e?Bt(e)?Gi(e[0],e[1]):xi(e):ea(e)};var na=function(e,t){return function(n,r){if(null==n)return n;if(!Dt(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}((function(e,t){return e&&dt(e,t,Qo)}));var ra=function(e,t){var n=-1,r=Dt(e)?Array(e.length):[];return na(e,(function(e,o,i){r[++n]=t(e,o,i)})),r};var oa=function(e,t){return(Bt(e)?Lo:ra)(e,ta(t))};const ia=(e,{at:t,...n}={})=>{if(t||(t=e.selection),!t)return;const[r,o]=s.e6.edges(t),i=Sr(e,{at:r,...n}),a=Sr(e,{at:o,...n});return i||a?!i||!a||!s.y$.equals(i[1],a[1]):void 0},aa=(e,t,n)=>{if(!n||!n.match&&!n.matchString)return Hr(e,t,n);const r=!n.unit||"offset"===n.unit;let o;return(n.matchString?dr(n.matchString):[""]).some((i=>{let a=t,u=Zr(e,t,{edge:"end"});const c=i.length+1,l=Array(c);let s=0;for(;;){var f;const v=Hr(e,a,n);if(!v)return;if(ia(e,{at:{anchor:v,focus:u}}))return;const p=Gr(e,{anchor:v,focus:u});let h=p;var d;if(r&&c&&(l.unshift({point:v,text:p}),l.pop(),h=oa(l.slice(0,-1),"text").join("")),i===h||null!==(f=n.match)&&void 0!==f&&f.call(n,{beforeString:h,beforePoint:v,at:t}))return n.afterMatch?c&&r?(o=null===(d=l[l.length-1])||void 0===d?void 0:d.point,!!o):(o=u,!0):(o=v,!0);if(u=v,a=v,s+=1,!n.skipInvalid&&(!i||s>=i.length))return}})),o},ua=(e,{filter:t,allow:n,exclude:r,level:o,maxLevel:i}={})=>{if(!e)return!1;const[a,u]=e;if(o){if(!dr(o).includes(u.length))return!1}if(i&&u.length>i)return!1;if(t&&!t(e))return!1;if(n){const e=dr(n);if(e.length&&!e.includes(a.type))return!1}if(r){const e=dr(r);if(e.length&&e.includes(a.type))return!1}return!0},ca=(e,t)=>{const n=Kr(e,{at:t});if(n)return Ur(e,n[1])},la=e=>{if(0===e.length)return;const t=e[e.length-1];return t<=0?void 0:e.slice(0,-1).concat(t-1)};var sa=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const fa=(e,t,n)=>{const r=aa(e,t,n);if(!r)return;return{anchor:r,focus:Zr(e,t,{edge:"end"})}},da=(e,t={})=>{var n;const r=null===(n=Sr(e,t))||void 0===n?void 0:n[1];if(!r)return;const o=qr(e,r),i=((e,{at:t=e.selection,focus:n}={})=>{let r;return s.e6.isRange(t)&&(r=n?t.focus:t.anchor),s.E9.isPoint(t)&&(r=t),s.y$.isPath(t)&&(r={path:t,offset:0}),r})(e,t);return i?{anchor:o,focus:i}:void 0},va=e=>Gr(e,e.selection),pa=(e,t)=>!co(t)&&!t.children.some((t=>((e,t)=>s.ML.isInline(e,t))(e,t))),ha=e=>{var t;const n=null===(t=Sr(e))||void 0===t?void 0:t[0];return!!n&&pa(e,n)},ya=e=>{if(!e.selection)return!1;const t=Sr(e);if(!t)return!1;const n=e.selection.focus,r=Nr(e,e.selection);if(!r)return!1;const[,o]=r;if(!eo(e,n,o))return!1;const i=((e,t)=>{const[n,r]=e,o=t[r.length],i=[],a=n.children;if(o+1<n.children.length)for(let u=o+1;u<n.children.length;u++)i.push(a[u]);return i})(t,n.path);if(!i.length)return eo(e,n,t[1]);for(const a of i)if(Rn(a)&&a.text)return!1;return!0},ga=e=>0===e[e.length-1],ba=(e,t)=>z(((e,t)=>{if(!e)return;const n=Br(e);return null===n||void 0===n?void 0:n[t]})(e,t)),ma=(e,t)=>{var n,r;const o=null===(n=Sr(e,t))||void 0===n?void 0:n[1];return!!o&&eo(e,null===(r=e.selection)||void 0===r?void 0:r.focus,o)},wa=(e,t)=>{var n,r;const o=null===(n=Sr(e,t))||void 0===n?void 0:n[1];return!!o&&to(e,null===(r=e.selection)||void 0===r?void 0:r.focus,o)},ja=(e,t)=>!!Or(e,t),Ea=({node:e,path:t=[],source:n,apply:r,query:o})=>{ua([e,t],o)&&r(e,n instanceof Function?n():n),Pr(e)&&e.children.forEach(((e,i)=>{Ea({node:e,path:t.concat([i]),source:n,apply:r,query:o})}))},ka=(e,t)=>{const n=((e,t)=>{let n={};return[...e.plugins].reverse().forEach((r=>{const o=vr(e,r,{element:t,deserializeLeaf:!0});o&&(n={...n,...o.node})})),n})(e,t);return fr(e,t).reduce(((e,t)=>{if(!t)return e;if(Kn(t))Object.keys(n).length&&(r={node:t,source:n,query:{filter:([e])=>Rn(e)}},Ea({...r,apply:hr})),e.push(t);else{const r={...n};Rn(t)&&t.text&&Object.keys(r).forEach((e=>{r[e]&&t[e]&&(r[e]=t[e])})),e.push(sr("text",r,t))}var r;return e}),[])},Ca=e=>e.nodeType===Node.TEXT_NODE,Oa=e=>e.nodeType===Node.ELEMENT_NODE,_a=e=>t=>{const n=(e=>{if(Ca(e))return"\n"===e.nodeValue?null:e.textContent})(t);if(n)return n;if(!Oa(t))return null;const r=(e=>{if("BR"===e.nodeName)return"\n"})(t);if(r)return r;const o=((e,t)=>{if("BODY"===t.nodeName)return sr("fragment",{},fr(e,t))})(e,t);if(o)return o;const i=pr(e,t);return i||ka(e,t)},Sa=(e,{element:t,stripWhitespace:n=!0})=>{"string"===typeof t&&(t=((e,t=!0)=>{const n=document.createElement("body");return n.innerHTML=e,t&&(n.innerHTML=n.innerHTML.replace(/(\r\n|\n|\r|\t)/gm,"")),n})(t,n));const r=((e,t)=>_a(e)(t))(e,t);return Vn(e,{descendants:r})},Pa=e=>(new DOMParser).parseFromString(e,"text/html"),xa="deserializeHtml",La=mn({key:xa,then:e=>({editor:{insertData:{format:"text/html",getFragment:({data:t})=>{const n=Pa(t);return Sa(e,{element:n.body})}}}})}),Ma="prevSelection",Ba=mn({key:Ma,handlers:{onKeyDown:e=>t=>{t.persist(),e.currentKeyboardEvent=t}},withOverrides:e=>{const{apply:t}=e;return e.apply=n=>{if("set_selection"===n.type){const{properties:r}=n;return e.prevSelection=r,t(n),void(e.currentKeyboardEvent=null)}t(n)},e}}),Aa=(e,t,n)=>jo(e,t,n),Da=(e,t,n)=>{const{activeType:r,inactiveType:o=$n(e,Dn)}=t;if(!r||!e.selection)return;const i=ja(e,{...n,match:{type:r}});i&&r===o||Aa(e,{type:i?o:r})},Fa=(e,{type:t,options:{hotkey:n}})=>r=>{const o=$n(e,Dn);if(!n)return;const i=dr(n);for(const n of i)if(O(n,r))return r.preventDefault(),void Da(e,{activeType:t,inactiveType:o})},Ta=(e,{key:t,at:n,shouldChange:r=!0,...o})=>{const i=null!==n&&void 0!==n?n:e.selection;if(t=dr(t),i)if(s.e6.isRange(i)&&s.e6.isExpanded(i))ko(e,t,{at:i,match:Rn,split:!0,...o});else if(e.selection){const n={...Br(e)||{}};t.forEach((e=>{delete n[e]})),e.marks=n,r&&e.onChange()}},Na=(e,{key:t,clear:n})=>{e.selection&&Mn(e,(()=>{if(ba(e,t))Ta(e,{key:t});else{if(n){const t=dr(n);Ta(e,{key:t})}e.addMark(t,!0)}}))};var Ka=function(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r};var Ra=function(e,t,n,r){return na(e,(function(e,o,i){t(r,e,n(e),i)})),r};var za=function(e,t){return function(n,r){var o=Bt(n)?Ka:Ra,i=t?t():{};return o(n,e,ta(r),i)}}((function(e,t,n){st(e,n,t)}));var $a=function(e,t){return Lo(t,(function(t){return e[t]}))};var Ia=function(e){return null==e?[]:$a(e,Qo(e))};const Va=(e,t)=>{const n={...t},{then:r}=n;if(r){delete n.then;const{plugins:t}=n,o=Va(e,gn(r(e,n),n));if(t&&o.plugins){const e=hr(za(t,"key"),za(o.plugins,"key"));o.plugins=Ia(e)}return o}return n},Ua=(e,t)=>{t&&t.forEach((t=>{let n=(e=>(void 0===e.type&&(e.type=e.key),e.options||(e.options={}),e.inject||(e.inject={}),e.editor||(e.editor={}),e))(t);if(n=Va(e,n),e.pluginsByKey[n.key]){const t=e.plugins.indexOf(e.pluginsByKey[n.key]),r=gn(n,e.pluginsByKey[n.key]);t>=0&&(e.plugins[t]=r),e.pluginsByKey[n.key]=r}else e.plugins.push(n),e.pluginsByKey[n.key]=n;Ua(e,n.plugins)}))},Wa=(e,{disableCorePlugins:t,plugins:n=[]})=>{let r=[];if(!0!==t){const n=t;var o,i,a,u,c,l,s,f,d,v,p,h,y,g,b,m,w,j;if("object"!==typeof n||null===n||void 0===n||!n.react)r.push(null!==(o=null===e||void 0===e||null===(i=e.pluginsByKey)||void 0===i?void 0:i.react)&&void 0!==o?o:Nn());if("object"!==typeof n||null===n||void 0===n||!n.history)r.push(null!==(a=null===e||void 0===e||null===(u=e.pluginsByKey)||void 0===u?void 0:u.history)&&void 0!==a?a:Sn());if("object"!==typeof n||null===n||void 0===n||!n.nodeFactory)r.push(null!==(c=null===e||void 0===e||null===(l=e.pluginsByKey)||void 0===l?void 0:l.nodeFactory)&&void 0!==c?c:Tn());if("object"!==typeof n||null===n||void 0===n||!n.eventEditor)r.push(null!==(s=null===e||void 0===e||null===(f=e.pluginsByKey)||void 0===f?void 0:f["event-editor"])&&void 0!==s?s:_n());if("object"!==typeof n||null===n||void 0===n||!n.inlineVoid)r.push(null!==(d=null===e||void 0===e||null===(v=e.pluginsByKey)||void 0===v?void 0:v["inline-void"])&&void 0!==d?d:xn());if("object"!==typeof n||null===n||void 0===n||!n.insertData)r.push(null!==(p=null===e||void 0===e||null===(h=e.pluginsByKey)||void 0===h?void 0:h.insertData)&&void 0!==p?p:An());if("object"!==typeof n||null===n||void 0===n||!n.selection)r.push(null!==(y=null===e||void 0===e||null===(g=e.pluginsByKey)||void 0===g?void 0:g.prevSelection)&&void 0!==y?y:Ba());if("object"!==typeof n||null===n||void 0===n||!n.deserializeHtml)r.push(null!==(b=null===e||void 0===e||null===(m=e.pluginsByKey)||void 0===m?void 0:m[xa])&&void 0!==b?b:La());if("object"!==typeof n||null===n||void 0===n||!n.deserializeAst)r.push(null!==(w=null===e||void 0===e||null===(j=e.pluginsByKey)||void 0===j?void 0:j.deserializeAst)&&void 0!==w?w:jn())}r=[...r,...n],e.plugins=[],e.pluginsByKey={},Ua(e,r),e.plugins.forEach((t=>{if(t.overrideByKey){const n=e.plugins.map((e=>bn(e,t.overrideByKey)));e.plugins=[],e.pluginsByKey={},Ua(e,n)}}))},Ya=()=>(0,s.Jh)();var Ha=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var qa=function(e,t){return e&&Qt(t,Qo(t),e)};var Ja=function(e,t){return e&&Qt(t,ln(t),e)};var Xa=function(e,t){return Qt(e,Jo(e),t)},Ga=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Vo(t,Jo(e)),e=jt(e);return t}:Yo;var Za=function(e,t){return Qt(e,Ga(e),t)};var Qa=function(e){return Uo(e,ln,Ga)},eu=Object.prototype.hasOwnProperty;var tu=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&eu.call(e,"index")&&(n.index=e.index,n.input=e.input),n};var nu=function(e,t){var n=t?ht(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},ru=/\w*$/;var ou=function(e){var t=new e.constructor(e.source,ru.exec(e));return t.lastIndex=e.lastIndex,t},iu=J?J.prototype:void 0,au=iu?iu.valueOf:void 0;var uu=function(e){return au?Object(au.call(e)):{}};var cu=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return ht(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return nu(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return yt(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return ou(e);case"[object Symbol]":return uu(e)}};var lu=function(e){return Ot(e)&&"[object Map]"==bi(e)},su=Ht&&Ht.isMap,fu=su?Yt(su):lu;var du=function(e){return Ot(e)&&"[object Set]"==bi(e)},vu=Ht&&Ht.isSet,pu=vu?Yt(vu):du,hu="[object Arguments]",yu="[object Function]",gu="[object Object]",bu={};bu[hu]=bu["[object Array]"]=bu["[object ArrayBuffer]"]=bu["[object DataView]"]=bu["[object Boolean]"]=bu["[object Date]"]=bu["[object Float32Array]"]=bu["[object Float64Array]"]=bu["[object Int8Array]"]=bu["[object Int16Array]"]=bu["[object Int32Array]"]=bu["[object Map]"]=bu["[object Number]"]=bu[gu]=bu["[object RegExp]"]=bu["[object Set]"]=bu["[object String]"]=bu["[object Symbol]"]=bu["[object Uint8Array]"]=bu["[object Uint8ClampedArray]"]=bu["[object Uint16Array]"]=bu["[object Uint32Array]"]=!0,bu["[object Error]"]=bu[yu]=bu["[object WeakMap]"]=!1;var mu=function e(t,n,r,o,i,a){var u,c=1&n,l=2&n,s=4&n;if(r&&(u=i?r(t,o,i,a):r(t)),void 0!==u)return u;if(!ie(t))return t;var f=Bt(t);if(f){if(u=tu(t),!c)return gt(t,u)}else{var d=bi(t),v=d==yu||"[object GeneratorFunction]"==d;if(Nt(t))return vt(t,c);if(d==gu||d==hu||v&&!i){if(u=l||v?{}:Ct(t),!c)return l?Za(t,Ja(u,t)):Xa(t,qa(u,t))}else{if(!bu[d])return i?t:{};u=cu(t,d,c)}}a||(a=new lt);var p=a.get(t);if(p)return p;a.set(t,u),pu(t)?t.forEach((function(o){u.add(e(o,n,r,o,t,a))})):fu(t)&&t.forEach((function(o,i){u.set(i,e(o,n,r,i,t,a))}));var h=f?void 0:(s?l?Qa:ei:l?ln:Qo)(t);return Ha(h||t,(function(o,i){h&&(o=t[i=o]),Zt(u,i,e(o,n,r,i,t,a))})),u};var wu=function(e){return mu(e,5)};const ju=(e,{components:t,overrideByKey:n}={})=>{let r={};return n&&(r=wu(n)),t&&Object.keys(t).forEach((e=>{r[e]||(r[e]={}),r[e].component=t[e]})),Object.keys(r).length?e.map((e=>bn(e,r))):e},Eu=({editor:e=Ya(),plugins:t=[],components:n,overrideByKey:r,normalizeInitialValue:o,...i}={})=>{const a=((e,{id:t,plugins:n=[],disableCorePlugins:r}={})=>{let o=e;return o.id=t,o.prevSelection=null,o.currentKeyboardEvent=null,o.key||(o.key=Math.random()),Wa(o,{plugins:n,disableCorePlugins:r}),o.plugins.forEach((e=>{e.withOverrides&&(o=e.withOverrides(o,e))})),o})(e,{plugins:t=ju(t,{components:n,overrideByKey:r}),...i});return o&&no(a,{force:!0}),a};var ku=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i};var Cu=function(e,t){return t.length<2?e:Yi(e,ku(t,0,-1))};var Ou=function(e,t){return t=Ui(t,e),null==(e=Cu(e,t))||delete e[Wi(sa(t))]};var _u=function(e){return Vt(e)?void 0:e},Su=J?J.isConcatSpreadable:void 0;var Pu=function(e){return Bt(e)||Mt(e)||!!(Su&&e&&e[Su])};var xu=function e(t,n,r,o,i){var a=-1,u=t.length;for(r||(r=Pu),i||(i=[]);++a<u;){var c=t[a];n>0&&r(c)?n>1?e(c,n-1,r,o,i):Vo(i,c):o||(i[i.length]=c)}return i};var Lu=function(e){return(null==e?0:e.length)?xu(e,1):[]};var Mu=function(e){return Oe(U(e,void 0,Lu),e+"")}((function(e,t){var n={};if(null==e)return n;var r=!1;t=Lo(t,(function(t){return t=Ui(t,e),r||(r=t.length>1),t})),Qt(e,Qa(e),n),r&&(n=mu(n,7,_u));for(var o=t.length;o--;)Ou(n,t[o]);return n}));const Bu=Symbol("plate"),Au=Symbol("global-plate"),Du=(0,r.cn)(Bu),{plateStore:Fu,usePlateStore:Tu}=(({decorate:e=null,editor:t=null,id:n,isRendered:o=!1,keyDecorate:i="1",keyEditor:a="1",keySelection:u="1",onChange:c=null,plugins:l=[],rawPlugins:s=[],readOnly:f=!1,renderElement:d=null,renderLeaf:v=null,value:p=null,...h}={})=>{const g=y({decorate:e,editor:t,id:n,isRendered:o,keyDecorate:i,keyEditor:a,keySelection:u,onChange:c,plugins:l,rawPlugins:s,readOnly:f,renderElement:d,renderLeaf:v,value:p,...h},{scope:Bu,name:"plate"});return{plateStore:g.plateStore,usePlateStore:e=>{const t=(0,r.KO)(Du,Au)[0];return z(e)||g.usePlateStore(e).get.id(e)?g.usePlateStore(e):g.usePlateStore(t)}}})(),Nu=e=>Tu(e).get,Ku=e=>Tu(e).set,Ru=(e,t)=>{const n=Ku(t)[e]();return(0,o.useCallback)((()=>{n((0,a.x0)())}),[n])},zu=e=>Nu(e).editor(),$u=e=>(Nu(e).keyEditor(),zu(e)),Iu=e=>(Nu(e).keySelection(),zu(e).selection),Vu=(e,t)=>{const n=e.plugins.flatMap((t=>{var n,r;return null!==(n=null===(r=t.decorate)||void 0===r?void 0:r.call(t,e,t))&&void 0!==n?n:[]}));if(t&&n.push(t),n.length)return e=>{let t=[];return n.forEach((n=>{var r;null!==(r=n(e))&&void 0!==r&&r.length&&(t=[...t,...r])})),t}},Uu=(e,t)=>{if(!t)return!1;const n=t(e);return null!=n?n:e.isPropagationStopped()},Wu=(e,t)=>(e.plugins.forEach((e=>{if(e.inject.props){const n=((e,{key:t,inject:{props:n}},r)=>{var o;const{element:i,text:a,className:u,style:c}=r,l=null!==i&&void 0!==i?i:a;if(!l)return;if(!n)return;const{nodeKey:s=t,styleKey:f=s,validTypes:v,classNames:p,transformClassName:h,transformNodeValue:y,transformStyle:g,validNodeValues:b,defaultNodeValue:m}=n;if(v&&Kn(l)&&l.type&&!v.includes(l.type))return;const w=l[s];if(!w||b&&!b.includes(w)||w===m)return;const j={},E={...r,nodeValue:w},k=null!==(o=null===y||void 0===y?void 0:y(E))&&void 0!==o?o:w;var C,O;return i&&(j.className=(0,d.Z)(u,`slate-${s}-${w}`)),(null!==p&&void 0!==p&&p[w]||h)&&(j.className=null!==(C=null===h||void 0===h?void 0:h(E))&&void 0!==C?C:(0,d.Z)(u,null===p||void 0===p?void 0:p[k])),f&&(j.style=null!==(O=null===g||void 0===g?void 0:g(E))&&void 0!==O?O:{...c,[f]:k}),j})(0,e,t);n&&(t={...t,...n})}})),{...t,editor:e}),Yu=({attributes:e,nodeProps:t,props:n,type:r})=>{let o={};var i;n&&(o=null!==(i="function"===typeof n?n(t):n)&&void 0!==i?i:{});!o.nodeProps&&e&&(o.nodeProps=e),t={...t,...o};const{className:a}=t;return{...t,className:(0,d.Z)(w(r),a)}},Hu=(e,t)=>{const n=[];return e.plugins.forEach((t=>{t.isElement&&n.push(((e,{key:t,type:n,component:r,props:a})=>u=>{const{element:c,children:l}=u;if(c.type===n){const s=null!==r&&void 0!==r?r:i.Qr,f=e.plugins.flatMap((e=>{var t,n;return null!==(t=null===(n=e.inject)||void 0===n?void 0:n.aboveComponent)&&void 0!==t?t:[]})),d=e.plugins.flatMap((e=>{var t,n;return null!==(t=null===(n=e.inject)||void 0===n?void 0:n.belowComponent)&&void 0!==t?t:[]}));u=Yu({attributes:c.attributes,nodeProps:u,props:a,type:n});let v=l;d.forEach((e=>{const n=e({...u,key:t});n&&(v=n({...u,children:v}))}));let p=o.createElement(s,u,v);return f.forEach((e=>{const n=e({...u,key:t});n&&(p=n({...u,children:p}))})),o.createElement(hc,{element:c,scope:t},p)}})(e,t))})),r=>{const a=Wu(e,r);let u;return n.some((e=>(u=e(a),!!u))),u||(t?t(a):o.createElement(i.Qr,a))}},qu=({attributes:e,children:t,text:n,leaf:r,editor:i,nodeProps:a,...u})=>o.createElement("span",g({},e,u),t),Ju=(e,t)=>{const n=[];return e.plugins.forEach((e=>{e.isLeaf&&e.key&&n.push(((e,{key:t,type:n=t,component:r,props:i})=>e=>{const{leaf:t,children:a}=e;if(t[n]){const u=null!==r&&void 0!==r?r:qu;return e=Yu({attributes:t.attributes,props:i,nodeProps:e,type:n}),o.createElement(u,e,a)}return a})(0,e))})),r=>{const i=Wu(e,r);return n.forEach((e=>{const t=e(i);void 0!==t&&(i.children=t)})),t?t(i):o.createElement(qu,i)}},Xu=({id:e,...t}={})=>{var n,r,i;const a=zu(e),u=Nu(e),c=u.keyDecorate(),l=u.readOnly(),s=null===(n=u.decorate())||void 0===n?void 0:n.fn,d=null===(r=u.renderLeaf())||void 0===r?void 0:r.fn,v=null===(i=u.renderElement())||void 0===i?void 0:i.fn,p=(0,o.useMemo)((()=>Vu(a,null!==s&&void 0!==s?s:null===t||void 0===t?void 0:t.decorate)),[null===t||void 0===t?void 0:t.decorate,a,s]),h=(0,o.useMemo)((()=>{if(c&&p)return e=>p(e)}),[p,c]),y=(0,o.useMemo)((()=>Hu(a,null!==v&&void 0!==v?v:null===t||void 0===t?void 0:t.renderElement)),[null===t||void 0===t?void 0:t.renderElement,a,v]),g=(0,o.useMemo)((()=>Ju(a,null!==d&&void 0!==d?d:null===t||void 0===t?void 0:t.renderLeaf)),[null===t||void 0===t?void 0:t.renderLeaf,a,d]),m=(0,f.NY)((()=>{const e={decorate:h,renderElement:y,renderLeaf:g};return z(l)&&(e.readOnly=l),b.forEach((n=>{const r=((e,{editableProps:t,handlerKey:n})=>{let r=[];r=e.plugins.flatMap((t=>{var r,o,i;return null!==(r=null===(o=t.handlers)||void 0===o||null===(i=o[n])||void 0===i?void 0:i.call(o,e,t))&&void 0!==r?r:[]}));const o=null===t||void 0===t?void 0:t[n];if(r.length||o)return e=>!!r.some((t=>Uu(e,t)))||Uu(e,o)})(a,{editableProps:t,handlerKey:n});r&&(e[n]=r)})),e}),[h,t,y,g]);return(0,f.NY)((()=>({...Mu(t,[...b,"renderElement","renderLeaf"]),...m})),[t,m])},Gu=(...e)=>(0,o.useCallback)(((...e)=>t=>e.forEach((e=>((e,t)=>{"function"===typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)})(e,t))))(...e),e),Zu=(e,t)=>{var n;return null===(n=e.classList)||void 0===n?void 0:n.contains(t)},Qu=(e,t)=>{let n=e.target||e;for(;n;){if(Array.isArray(t)){if(t.some((e=>Zu(n,e))))return!0}else if(Zu(n,t))return!0;n=n.parentElement}return!1},ec=e=>!(!e.includes("touch")||!(()=>{if("undefined"===typeof window||"function"!==typeof window.addEventListener)return!1;let e=!1;const t=Object.defineProperty({},"passive",{get(){e=!0}}),n=()=>null;return window.addEventListener("test",n,t),window.removeEventListener("test",n,t),e})())&&{passive:!0},tc=(e,{refs:t,disabled:n,eventTypes:r=["mousedown","touchstart"],excludeScrollbar:i,ignoreClass:a="ignore-onclickoutside",detectIFrame:u=!0}={})=>{const[c,l]=(0,o.useState)([]),s=(0,o.useRef)(e);s.current=e;const f=(0,o.useCallback)((e=>l((t=>[...t,{current:e}]))),[]);return(0,o.useEffect)((()=>{if((null===t||void 0===t||!t.length)&&!c.length)return;const e=()=>{const e=[];return(t||c).forEach((({current:t})=>t&&e.push(t))),e},o=t=>{Qu(t,a)||i&&(e=>document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY)(t)||!e().every((e=>!e.contains(t.target)))||s.current(t)},l=t=>setTimeout((()=>{const{activeElement:n}=document;"IFRAME"!==(null===n||void 0===n?void 0:n.tagName)||Qu(n,a)||e().includes(n)||s.current(t)}),0),f=()=>{r.forEach((e=>document.removeEventListener(e,o,ec(e)))),u&&window.removeEventListener("blur",l)};if(!n)return r.forEach((e=>document.addEventListener(e,o,ec(e)))),u&&window.addEventListener("blur",l),()=>f();f()}),[c,a,i,n,u,JSON.stringify(r)]),f},nc=({attributes:e,nodeProps:t,element:n,editor:r,elementToAttributes:o,...i})=>{var a;return{...e,...i,...t,...null!==(a=null===o||void 0===o?void 0:o(n))&&void 0!==a?a:{},ref:Gu(i.ref,e.ref)}},rc=({setState:e,state:t,nextState:n,nextStateValue:r=n})=>{(0,o.useEffect)((()=>{n===t||R(n)||e(r)}),[e,t,n,r])},oc=({id:e,disableCorePlugins:t,value:n,onChange:r,plugins:i,decorate:a,renderElement:u,renderLeaf:c,readOnly:l})=>{const s=zu(e),f=(e=>Tu(e).use)(e),[d,v]=f.value(),[p,h]=f.decorate(),[y,g]=f.renderElement(),[b,m]=f.renderLeaf(),[w,j]=f.rawPlugins(),[,E]=f.plugins(),[k,C]=f.onChange(),[O,_]=f.readOnly();rc({state:d,setState:v,nextState:n}),rc({state:O,setState:_,nextState:l}),rc({state:w,setState:E,nextState:i,nextStateValue:null!==i&&void 0!==i?i:[]}),rc({state:null===k||void 0===k?void 0:k.fn,setState:C,nextState:r,nextStateValue:r?{fn:r}:null}),rc({state:null===p||void 0===p?void 0:p.fn,setState:h,nextState:a,nextStateValue:a?{fn:a}:null}),rc({state:null===y||void 0===y?void 0:y.fn,setState:g,nextState:u,nextStateValue:u?{fn:u}:null}),rc({state:null===b||void 0===b?void 0:b.fn,setState:m,nextState:c,nextStateValue:c?{fn:c}:null}),(0,o.useEffect)((()=>{i!==w&&(j(w),Wa(s,{plugins:i,disableCorePlugins:t}),E(s.plugins))}),[t,s,w,i,E,j])},ic=()=>(0,i._7)(),ac=e=>{const t=({asChild:t,...n},r)=>(t?v.g7:e)({ref:r,...n});return(0,o.forwardRef)(t)},uc=(e,t)=>{const{as:n,wrapElement:r,...i}=t;let a;if(n&&"string"!==typeof n)a=o.createElement(n,i);else if("function"===typeof t.children){const{children:e,...n}=i;a=t.children(n)}else a=n?o.createElement(n,i):o.createElement(e,i);return r?r(a):a},cc=(e,t)=>{var n;return null!==(n=zn(e,t).options)&&void 0!==n?n:{}},lc=e=>({key:"",type:"",editor:{},inject:{},options:{},...e});var sc=function(e,t){return Ci(e,t)};const fc="element",{elementStore:dc,useElementStore:vc}=y({element:null},{name:"element"}),pc=({element:e,scope:t,children:n})=>{const r=vc().set.element(t),i=vc().set.element(fc);return(0,o.useEffect)((()=>{r(e),i(e)}),[e,r,i]),n},hc=({element:e,scope:t,children:n,...r})=>o.createElement(N,g({initialValues:[[dc.atom.element,e]],scope:fc},r),o.createElement(N,g({initialValues:[[dc.atom.element,e]],scope:t},r),o.createElement(pc,{element:e,scope:t},n))),yc=(ac((e=>uc("div",e))),({plugin:e})=>{var t;const n=ic();return null===(t=e.useHooks)||void 0===t||t.call(e,n,e),null}),gc=({id:e})=>{const t=Ku(e).isRendered(),n=Nu(e).plugins();return(0,o.useEffect)((()=>(t(!0),()=>{t(!1)})),[t]),o.createElement(o.Fragment,null,n.map((e=>o.createElement(yc,{key:e.key,plugin:e}))))},bc=(0,o.memo)((({id:e})=>{const t=(0,i.ui)(),n=Ru("keyEditor",e),r=Ru("keySelection",e);return(0,o.useEffect)((()=>{n()})),(0,o.useEffect)((()=>{r()}),[t.selection,r]),null})),mc=({children:e,renderEditable:t,editableRef:n,firstChildren:r,...a})=>{const{id:u}=a,c=ic(),{plugins:l}=c,s=Xu(a),f=o.createElement(i.CX,g({ref:n},s));let d=null,v=null;l.forEach((e=>{const{renderBeforeEditable:t,renderAfterEditable:n}=e;n&&(d=o.createElement(o.Fragment,null,d,n(s))),t&&(v=o.createElement(o.Fragment,null,v,t(s)))}));let p=o.createElement(o.Fragment,null,r,v,t?t(f):f,o.createElement(bc,{id:u}),o.createElement(gc,{id:u}),d,e);return l.forEach((e=>{const{renderAboveEditable:t}=e;t&&(p=t({children:p}))})),p},wc=({children:e,...t})=>(oc(t),o.createElement(o.Fragment,null,e)),jc=({normalizeInitialValue:e,...t})=>{const{id:n=Bu,editor:r,initialValue:i,value:a,children:u,plugins:c,disableCorePlugins:l,onChange:s,decorate:f,renderElement:d,renderLeaf:v,readOnly:p}=t,h=(0,o.useMemo)((()=>null!==r&&void 0!==r?r:Eu({id:n,plugins:c,disableCorePlugins:l})),[]),y=(0,o.useMemo)((()=>{let t=null!==i&&void 0!==i?i:a;t||(t=h.children.length?h.children:h.childrenFactory());const n=((e,t)=>{let n=wu(t);if(e.plugins.forEach((e=>{var t;const r=null===(t=e.normalizeInitialValue)||void 0===t?void 0:t.call(e,n);r&&(n=r)})),!sc(t,n))return n})(h,t);return n&&(t=n),h.children=t,e&&no(h,{force:!0}),h.children}),[]);return o.createElement(N,{initialValues:[[Fu.atom.id,n],[Fu.atom.editor,h],[Fu.atom.plugins,h.plugins],[Fu.atom.rawPlugins,c],[Fu.atom.readOnly,p],[Fu.atom.value,y],[Fu.atom.decorate,{fn:f}],[Fu.atom.onChange,{fn:s}],[Fu.atom.renderElement,{fn:d}],[Fu.atom.renderLeaf,{fn:v}]],scope:n},o.createElement(N,{initialValues:[[Du,n]],scope:Au},o.createElement(wc,t,u)))},Ec=e=>{const{id:t}=e;return o.createElement(jc,g({key:null===t||void 0===t?void 0:t.toString()},e))},kc=({id:e,children:t})=>{const n=(({id:e})=>{var t;const n=zu(e),r=Nu(e).value(),i=Ku(e).value(),a=null===(t=Nu(e).onChange())||void 0===t?void 0:t.fn,u=(0,o.useCallback)((e=>{const t=(e=>{const t=e.plugins.flatMap((t=>{var n,r,o;return null!==(n=null===(r=t.handlers)||void 0===r||null===(o=r.onChange)||void 0===o?void 0:o.call(r,e,t))&&void 0!==n?n:[]}));return e=>t.some((t=>{if(!t)return!1;const n=t(e);return null!=n&&n}))})(n)(e);t||null===a||void 0===a||a(e),i(e)}),[n,i,a]);return(0,o.useMemo)((()=>({key:n.key,editor:n,onChange:u,value:r})),[n,u,r])})({id:e}),{plugins:r}=Nu(e).editor();let a=o.createElement(i.mH,n,t);return null===r||void 0===r||r.forEach((e=>{const{renderAboveSlate:t}=e;t&&(a=t({children:a}))})),a},Cc=({children:e,editableRef:t,firstChildren:n,renderEditable:r,editableProps:i,...a})=>{const{id:u=Bu}=a,c=Nu(u).id(),l=o.createElement(kc,{id:u},o.createElement(mc,g({id:u,editableRef:t,firstChildren:n,renderEditable:r},i),e));return c?l:o.createElement(Ec,a,l)};var Oc=Object.prototype,_c=Oc.hasOwnProperty,Sc=_e((function(e,t){e=Object(e);var n=-1,r=t.length,o=r>2?t[2]:void 0;for(o&&pn(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],a=ln(i),u=-1,c=a.length;++u<c;){var l=a[u],s=e[l];(void 0===s||Pe(s,Oc[l])&&!_c.call(e,l))&&(e[l]=i[l])}return e}));const Pc=e=>{Ea({...e,apply:Sc})},xc=(e,t,n)=>bo(e,t,n),Lc=(e,t,n)=>{xc(e,{type:t,children:[{text:""}]},jr(e,n))},Mc=(e,{at:t,to:n,match:r,fromStartIndex:o=0})=>{let i=0;const a=s.y$.isPath(t)?t:t[1],u=s.y$.isPath(t)?oo(e,a):t[0];if(!mr(e,u))return i;for(let c=u.children.length-1;c>=o;c--){const t=[...a,c],o=oo(e,t);(!r||o&&r([o,t]))&&(zr(e,{at:t,to:n}),i++)}return i},Bc=(e,t,n)=>{Mn(e,(()=>{for(const[,r]of((e,t,n)=>s.NB.children(e,t,n))(e,t,{reverse:!0}))$r(e,{...n,at:r})}))},Ac=(e,{at:t,nodes:n,insertOptions:r,removeOptions:o})=>{Mn(e,(()=>{Bc(e,t,o),bo(e,n,{...r,at:t.concat([0])})}))},Dc=(e,t)=>{Ac(e,{at:[],nodes:e.childrenFactory(),...t})},Fc=(e,t,n=[])=>{e.selection&&Mn(e,(()=>{const r=dr(n);Ta(e,{key:r}),Ta(e,{key:Object.keys(t)}),Object.keys(t).forEach((n=>{e.addMark(n,t[n])}))}))}}}]);
